{% extends 'layouts/base.html' %}
{% load static %}


{% block title %} Profile {% endblock title %}


<!-- Specific CSS goes HERE -->
{% block stylesheets %}
<style>
    #map {
        width: 100%;
        height: 100vh;
    }
</style>
{% endblock stylesheets %}

{% block content %}
<div id="map"></div>

{% endblock content %}

<!-- Specific JS goes HERE -->
{% block javascripts %}

<script>
    var map = new maplibregl.Map({
        container: 'map', // container id
        style: 'https://api.maptiler.com/maps/streets/style.json?key=get_your_own_OpIi9ZULNHzrESv6T2vL', // style URL
        center: [0, 0], // starting position [lng, lat]
        zoom: 1 // starting zoom
    });

    {% for item in users %}
    {% comment %} console.log({{item }}) {% endcomment %}
    var geometry = {{ item.location.geojson|safe }};
    new maplibregl.Marker()
        .setLngLat(geometry.coordinates)
        .addTo(map);
    {% endfor %}
</script>
{% endblock javascripts %}